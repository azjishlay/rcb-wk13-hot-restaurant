<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reservations</title>

  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">

    <div class="jumbotron text-center">
      <h1>Hot Restaurant</h1>
      <h3>Reservations</h3>
    </div>

    <div class="panel panel-primary">

      <div class="panel-heading">
        <h3 class="panel-title">Make a reservation</h3>
      </div>

      <div class="panel-body">
        <form role="form">
          <div class="form-group">
            <label for="custName">Name: </label>
            <input class="form-control" type="text" id="custName" name="custName">
          </div>
          <div class="form-group">
            <label for="custPhone">Phone Number: </label>
            <input class="form-control" type="text" id="custPhone" name="custPhone">
          </div>
          <button class="btn btn-primary" id="submit">Submit</button>
        </form>
      </div>

    </div>
  </div>

  <script type="text/javascript">

    $('#submit').on('click', function(){

      var newReservation = {
        custName: $('#custName').val().trim(),
        custPhone: $('#custPhone').val().trim()
      };

      // Get location of root page
      // URL will change when page is deployed
      var currentURL = window.location.origin;

      $.post(currentURL + '/api/tables', newReservation, function(data){

        if (data == true) {
          alert("Table booked!");
        }

        if (data == false) {
          alert("All tables are now booked. You are on the waiting list!");
        }

        // Clear form values when submitting
        $('#custName').val("");
        $('#custPhone').val("");

      });

      return false;
    });
  </script>

</body>
</html>